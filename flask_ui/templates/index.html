<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Heart Disease Prediction</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
<div class="container">
    <div class="card">
        <h1>Heart Disease Prediction</h1>
        <form id="predictForm" method="post">
            {% set fields = [
                ('Age','age'), ('Sex (0=F,1=M)','sex'), ('Chest Pain (cp)','cp'),
                ('Rest BP','trestbps'), ('Cholesterol','chol'), ('Fasting BS','fbs'),
                ('Rest ECG','restecg'), ('Max Heart Rate','thalach'), ('Exercise Angina','exang'),
                ('Oldpeak','oldpeak'), ('Slope','slope'), ('CA','ca'), ('Thal','thal')
            ] %}

            {% for label, name in fields %}
                <div class="form-group {% if name=='thal' %}full-width{% endif %}">
                    <label>{{ label }}</label>
                    <input type="text" name="{{ name }}" value="{{ form_data.get(name,'') }}" required>
                </div>
            {% endfor %}

            <div class="buttons">
                <button type="submit" class="btn-predict">Predict</button>
                <button type="button" class="btn-clear" onclick="clearForm()">Clear</button>
            </div>

            {% if prediction is not none %}
                <div class="result {{ 'positive' if prediction else 'negative' }}">
                    {{ '‚ù§Ô∏è Heart Disease Detected' if prediction else 'üíö No Heart Disease' }}
                </div>
            {% endif %}
        </form>
    </div>

    <!-- Swagger Link -->
    <div style="text-align:center; margin-top:20px;">
        <a href="http://127.0.0.1:8000/docs" class="swagger-link" target="_blank">Show FastAPI Swagger</a>
    </div>
</div>

<script>
function clearForm(){
    document.getElementById('predictForm').reset();
    const result = document.querySelector('.result');
    if(result) result.remove();
}
</script>
</body>
</html>
